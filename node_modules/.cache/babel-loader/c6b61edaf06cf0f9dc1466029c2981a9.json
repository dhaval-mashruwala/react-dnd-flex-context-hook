{"ast":null,"code":"var _jsxFileName = \"/Users/dhavalmashruwala/me/sample/react-dnd-flex-context-hook/src/pages/dashboard/view.js\";\nimport React, { useContext } from \"react\";\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { GlobalContext } from '../../store';\nimport components from './components';\nconst {\n  Header,\n  LeftSection,\n  RightSection\n} = components;\nexport default class Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getDraggedTweet = draggedTweetId => {\n      const {\n        tweets\n      } = this.context;\n      console.log(draggedTweetId, tweets, typeof draggedTweetId);\n      return tweets.find(tweet => String(tweet.id) === String(draggedTweetId));\n    };\n\n    this.removeSavedTweet = tweetIndex => {\n      try {\n        const {\n          removeSavedTweet\n        } = this.context;\n        removeSavedTweet(tweetIndex);\n      } catch (e) {\n        console.log('Something went wrong', e);\n      }\n    };\n\n    this.onDragEnd = result => {\n      try {\n        const {\n          setSavedTweets\n        } = this.context;\n        const {\n          destination,\n          draggableId\n        } = result; // if dropable is invalid\n\n        if (!destination) {\n          return;\n        }\n\n        if (destination.droppableId === 'right-section' && draggableId) {\n          let draggedTweet = this.getDraggedTweet(draggableId);\n\n          if (draggedTweet) {\n            setSavedTweets(draggedTweet);\n          }\n        }\n      } catch (e) {\n        console.log('Something went wrong', e);\n      }\n    };\n\n    this.state = {};\n  }\n\n  /* Render the component */\n  render() {\n    const {\n      fetchTweets,\n      tweets,\n      savedTweets\n    } = useContext;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tweet-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DragDropContext, {\n      onDragEnd: this.onDragEnd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LeftSection, {\n      fetchTweets: fetchTweets,\n      tweets: tweets,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"drag-arrow-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"Drag tweet\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-arrow-right arrow-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"To save\")), /*#__PURE__*/React.createElement(RightSection, {\n      savedTweets: savedTweets,\n      removeSavedTweet: this.removeSavedTweet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}\nDashboard.contextType = GlobalContext;","map":{"version":3,"sources":["/Users/dhavalmashruwala/me/sample/react-dnd-flex-context-hook/src/pages/dashboard/view.js"],"names":["React","useContext","DragDropContext","GlobalContext","components","Header","LeftSection","RightSection","Dashboard","Component","constructor","props","getDraggedTweet","draggedTweetId","tweets","context","console","log","find","tweet","String","id","removeSavedTweet","tweetIndex","e","onDragEnd","result","setSavedTweets","destination","draggableId","droppableId","draggedTweet","state","render","fetchTweets","savedTweets","contextType"],"mappings":"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","sourcesContent":["import React, {useContext} from \"react\";\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { GlobalContext } from '../../store'\nimport components from './components';\nconst { Header, LeftSection, RightSection } = components;\nexport default class  Dashboard extends React.Component {\n  static contextType = GlobalContext\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  getDraggedTweet = (draggedTweetId) => {\n    const { tweets } = this.context;\n    console.log(draggedTweetId, tweets, typeof draggedTweetId)\n    return tweets.find((tweet)=>(String(tweet.id) === String(draggedTweetId)));\n  }\n\n  removeSavedTweet = (tweetIndex) => {\n    try {\n      const {removeSavedTweet} = this.context;\n      removeSavedTweet(tweetIndex);\n    } catch (e) {\n      console.log('Something went wrong',e);\n    }\n  }\n\n  onDragEnd = result => {\n    try {\n      const {setSavedTweets} = this.context;\n      const { destination, draggableId } = result;\n      // if dropable is invalid\n      if (!destination) {\n        return;\n      }\n      if(destination.droppableId === 'right-section' && draggableId){\n        let draggedTweet = this.getDraggedTweet(draggableId);\n        if( draggedTweet ) {\n          setSavedTweets( draggedTweet );\n        }\n      }\n    } catch (e) {\n      console.log('Something went wrong',e);\n    }\n  }\n\n  /* Render the component */\n  render() {\n    const { fetchTweets, tweets, savedTweets } = useContext;\n    return (\n      <div className='container'>\n        <Header></Header>\n        <div className='tweet-container'>\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          <LeftSection \n            fetchTweets={fetchTweets}\n            tweets={tweets}\n          />\n          <div className='drag-arrow-container'>\n            <span>Drag tweet</span>\n            <i className='fa fa-arrow-right arrow-right'></i>\n            <span>To save</span>\n          </div>\n          <RightSection\n            savedTweets={savedTweets}\n            removeSavedTweet={this.removeSavedTweet}\n          />\n        </DragDropContext>\n          \n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}