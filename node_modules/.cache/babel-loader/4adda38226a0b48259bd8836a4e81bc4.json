{"ast":null,"code":"var _jsxFileName = \"/Users/dhavalmashruwala/me/sample/react-dnd-flex-context-hook/src/pages/dashboard/view.js\";\nimport React, { useContext } from \"react\";\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { GlobalContext } from '../../store';\nimport components from './components';\nconst {\n  Header,\n  LeftSection,\n  RightSection\n} = components;\n\nconst getDraggedTweet = draggedTweetId => {\n  const {\n    tweets\n  } = this.context;\n  console.log(draggedTweetId, tweets, typeof draggedTweetId);\n  return tweets.find(tweet => String(tweet.id) === String(draggedTweetId));\n};\n\nconst removeSavedTweet = tweetIndex => {\n  try {\n    const {\n      removeSavedTweet\n    } = this.context;\n    removeSavedTweet(tweetIndex);\n  } catch (e) {\n    console.log('Something went wrong', e);\n  }\n};\n\nconst onDragEnd = result => {\n  try {\n    const {\n      setSavedTweets\n    } = this.context;\n    const {\n      destination,\n      draggableId\n    } = result; // if dropable is invalid\n\n    if (!destination) {\n      return;\n    }\n\n    if (destination.droppableId === 'right-section' && draggableId) {\n      let draggedTweet = this.getDraggedTweet(draggableId);\n\n      if (draggedTweet) {\n        setSavedTweets(draggedTweet);\n      }\n    }\n  } catch (e) {\n    console.log('Something went wrong', e);\n  }\n};\n\nconst Dashboard = () => {\n  const {\n    fetchTweets,\n    tweets,\n    savedTweets\n  } = useContext(GlobalContext);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tweet-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DragDropContext, {\n    onDragEnd: onDragEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LeftSection, {\n    fetchTweets: fetchTweets,\n    tweets: tweets,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drag-arrow-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Drag tweet\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-arrow-right arrow-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"To save\")), /*#__PURE__*/React.createElement(RightSection, {\n    savedTweets: savedTweets,\n    removeSavedTweet: removeSavedTweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/dhavalmashruwala/me/sample/react-dnd-flex-context-hook/src/pages/dashboard/view.js"],"names":["React","useContext","DragDropContext","GlobalContext","components","Header","LeftSection","RightSection","getDraggedTweet","draggedTweetId","tweets","context","console","log","find","tweet","String","id","removeSavedTweet","tweetIndex","e","onDragEnd","result","setSavedTweets","destination","draggableId","droppableId","draggedTweet","Dashboard","fetchTweets","savedTweets"],"mappings":"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","sourcesContent":["import React, {useContext} from \"react\";\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { GlobalContext } from '../../store'\nimport components from './components';\nconst { Header, LeftSection, RightSection } = components;\n\nconst getDraggedTweet = (draggedTweetId) => {\n  const { tweets } = this.context;\n  console.log(draggedTweetId, tweets, typeof draggedTweetId)\n  return tweets.find((tweet)=>(String(tweet.id) === String(draggedTweetId)));\n}\n\nconst removeSavedTweet = (tweetIndex) => {\n  try {\n    const {removeSavedTweet} = this.context;\n    removeSavedTweet(tweetIndex);\n  } catch (e) {\n    console.log('Something went wrong',e);\n  }\n}\n\nconst onDragEnd = result => {\n  try {\n    const {setSavedTweets} = this.context;\n    const { destination, draggableId } = result;\n    // if dropable is invalid\n    if (!destination) {\n      return;\n    }\n    if(destination.droppableId === 'right-section' && draggableId){\n      let draggedTweet = this.getDraggedTweet(draggableId);\n      if( draggedTweet ) {\n        setSavedTweets( draggedTweet );\n      }\n    }\n  } catch (e) {\n    console.log('Something went wrong',e);\n  }\n}\n\nconst Dashboard = () => {\n  const { fetchTweets, tweets, savedTweets } = useContext(GlobalContext);\n  return (\n    <div className='container'>\n      <Header></Header>\n      <div className='tweet-container'>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <LeftSection \n          fetchTweets={fetchTweets}\n          tweets={tweets}\n        />\n        <div className='drag-arrow-container'>\n          <span>Drag tweet</span>\n          <i className='fa fa-arrow-right arrow-right'></i>\n          <span>To save</span>\n        </div>\n        <RightSection\n          savedTweets={savedTweets}\n          removeSavedTweet={removeSavedTweet}\n        />\n      </DragDropContext>\n        \n      </div>\n    </div>\n  );\n}\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}